<log>
<starttest local-name="invalid-query_layers" prefix="getfeatureinfo" namespace-uri="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getfeatureinfo.xml" type="Mandatory" defaultResult="1" path="s0028/d68e18027_1/d68e18155_1/d68e10003_1/d68e10085_1" file="/root/te_base/work/_root_te_base_scripts_wms_1.3.0_ctl_main.xml/getfeatureinfo$invalid-query_layers.test">
<assertion>When a layer requested is not contained in the Capabilities XML of the WMS, then the server issues a Service Exception (code=LayerNotDefined).</assertion>
<params xmlns:ccf="http://www.opengis.net/cite/complex"
        xmlns:wms="http://www.opengis.net/wms"
        xmlns:basic="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/basic.xml"
        xmlns:gml="http://www.opengis.net/gml"
        xmlns:raster_elevation="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/raster_elevation.xml"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns:interactive="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/interactive.xml"
        xmlns:cdf="http://www.opengis.net/cite/data"
        xmlns:tec="java:com.occamlab.te.TECore"
        xmlns:saxon="http://saxon.sf.net/"
        xmlns:parsers="http://www.occamlab.com/te/parsers"
        xmlns:wms-1.3.0="https://cite.opengeospatial.org/wms-1.3.0/src/ctl"
        xmlns:tems="java:com.occamlab.te.web.MonitorServlet"
        xmlns:xs="http://www.w3.org/2001/XMLSchema"
        xmlns:main="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/main.xml"
        xmlns:vector_elevation="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/vector_elevation.xml"
        xmlns:ogc="http://www.opengis.net/ogc"
        xmlns:getcapabilities="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getcapabilities.xml"
        xmlns:citef="http://www.opengis.net/cite/functions"
        xmlns:getfeatureinfo="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getfeatureinfo.xml"
        xmlns:ctl="http://www.occamlab.com/ctl"
        xmlns:recommendations="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/recommendations.xml"
        xmlns:queryable="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/queryable.xml"
        xmlns:cgf="http://www.opengis.net/cite/geometry"
        xmlns:getmap="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getmap.xml"
        xmlns:te="http://www.occamlab.com/te"
        xmlns:dims="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/dimensions.xml"
        xmlns:gen="java:com.occamlab.te.Generator"
        xmlns:xi="http://www.w3.org/2001/XInclude"
        xmlns:functions="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/functions.xml"
        xmlns:basic_elements="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/basic_elements.xml"
        xmlns:time="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/time.xml"/>
<context label=""><value>WMS_Capabilities element</value></context>
</starttest>
<request id="d68e11410_1">
<ctl:request xmlns:ctl="http://www.occamlab.com/ctl" xmlns:ccf="http://www.opengis.net/cite/complex" xmlns:wms="http://www.opengis.net/wms" xmlns:basic="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/basic.xml" xmlns:gml="http://www.opengis.net/gml" xmlns:raster_elevation="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/raster_elevation.xml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:interactive="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/interactive.xml" xmlns:cdf="http://www.opengis.net/cite/data" xmlns:tec="java:com.occamlab.te.TECore" xmlns:saxon="http://saxon.sf.net/" xmlns:parsers="http://www.occamlab.com/te/parsers" xmlns:wms-1.3.0="https://cite.opengeospatial.org/wms-1.3.0/src/ctl" xmlns:tems="java:com.occamlab.te.web.MonitorServlet" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:main="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/main.xml" xmlns:vector_elevation="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/vector_elevation.xml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:getcapabilities="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getcapabilities.xml" xmlns:citef="http://www.opengis.net/cite/functions" xmlns:getfeatureinfo="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getfeatureinfo.xml" xmlns:recommendations="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/recommendations.xml" xmlns:queryable="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/queryable.xml" xmlns:cgf="http://www.opengis.net/cite/geometry" xmlns:getmap="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/getmap.xml" xmlns:te="http://www.occamlab.com/te" xmlns:dims="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/dimensions.xml" xmlns:gen="java:com.occamlab.te.Generator" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:functions="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/functions.xml" xmlns:basic_elements="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/basic_elements.xml" xmlns:time="https://cite.opengeospatial.org/wms-1.3.0/src/ctl/time.xml"><ctl:url>http://cite.deegree.org/deegree-webservices-3.4-RC3/services/wms130?</ctl:url><ctl:method>get</ctl:method><ctl:param name="LaYeRs">cite%3ALakes</ctl:param><ctl:param name="ReQuEsT">GetFeatureInfo</ctl:param><ctl:param name="BbOx">0,-0.0020,0.0040,0</ctl:param><ctl:param name="WiDtH">200</ctl:param><ctl:param name="CrS">CRS%3A84</ctl:param><ctl:param name="QuErY_LaYeRs">InvalidLayer</ctl:param><ctl:param name="VeRsIoN">1.3.0</ctl:param><ctl:param name="StYlEs"/><ctl:param name="I">60</ctl:param><ctl:param name="J">60</ctl:param><ctl:param name="HeIgHt">100</ctl:param><ctl:param name="InFo_fOrMaT">application%2Fvnd.ogc.gml</ctl:param><ctl:param name="FoRmAt">image%2Fpng</ctl:param></ctl:request>
<response><parser/><content><ServiceExceptionReport xmlns="http://www.opengis.net/ogc">
  <ServiceException code="LayerNotDefined">An invalid combination of LAYERS and QUERY_LAYERS was specified.</ServiceException>
<!--Response received in [70] milliseconds--></ServiceExceptionReport></content></response>
</request>
<endtest result="1"/>
</log>
